{"version":3,"sources":["assets/HKU.jpg","components/Calendar/DayScaleCell.js","components/Calendar/TimeTableCell.js","components/Forms/FormDatePicker.js","actions.js","components/Forms/EditEventForm.js","components/Calendar/Calendar.js","components/AppBar/Dropdown.js","components/AppBar/ButtonDatePicker.js","components/AppBar/DateNavigator.js","components/Forms/AppointmentForm/TabPanel.js","components/Forms/AppointmentForm/TabMenu.js","components/Forms/AppointmentForm/SmartPlanningForm.js","components/Forms/AppointmentForm/SimpleEventForm.js","components/Forms/AppointmentForm/AppointmentForm.js","components/AppBar/SideBar.js","App.js","assets/google.png","reducers/simpleEventFormReducer.js","reducers/calendarReducer.js","reducers/dataReducer.js","reducers/rootReducer.js","index.js"],"names":["useStyles","makeStyles","theme","todayCell","backgroundColor","fade","palette","primary","main","today","DayScaleCell","props","classes","startDate","className","getDate","Date","past","pastCell","action","disabledBackground","TimeTableCell","date","FormDatePicker","setPicker","open","state","currentDate","setState","handleDateChange","handleFormChange","renderPicker","allDay","DatePicker","variant","value","onChange","onOpen","onClose","disablePast","showTodayButton","DateTimePicker","this","utils","DateFnsUtils","Button","onClick","style","color","format","Component","setCurrentDate","process","PORT","type","payload","setCurrentView","view","setSimpleEventForm","isOpen","fetchAppointmentsSuccess","appointments","fetchAppointmentsFailure","error","fetchAppointments","dispatch","getState","a","googleId","data","user","fetch","credentials","then","res","json","catch","message","postAppointmentFailure","postAppointment","appointment","method","headers","body","JSON","stringify","deleteAppointmentFailure","EditEventForm","checkPast","editData","handleSubmit","title","endDate","alert","appointmentId","setTimeout","setAllDay","handleTextFieldInput","event","nam","target","name","val","handleStartDateInput","handleEndDateInput","renderForm","autoComplete","Grid","container","direction","spacing","justify","item","TextField","required","helperText","label","disabled","defaultValue","fullWidth","alignItems","minWidth","Typography","margin","marginLeft","FormControlLabel","control","Switch","size","description","multiline","rows","id","editDataId","AcceptgoogleId","console","log","Dialog","aria-labelledby","maxWidth","DialogTitle","DialogContent","minHeight","LinearProgress","DialogActions","disableElevation","connect","calendar","currentView","deleteAppointment","deleteAppointmentSuccess","useState","isEditing","setEditing","setEditDataId","window","innerHeight","height","setHeight","useEffect","handleResize","addEventListener","removeEventListener","firstDayOfWeek","currentViewName","startDayHour","endDayHour","cellDuration","timeTableCellComponent","dayScaleCellComponent","showCloseButton","showOpenButton","showDeleteButton","layoutComponent","Layout","onDeleteButtonClick","appointmentMeta","onHide","onOpenButtonClick","menuItem","button","anchorEl","setAnchorEl","handleClose","currentTarget","root","endIcon","Menu","Boolean","keepMounted","MenuItem","setOpen","handleDatePicked","dateString","Hidden","smUp","renderButton","display","xsDown","IconButton","setDate","setMonth","getMonth","TabPanel","children","index","other","role","hidden","Box","p","TabMenu","useTheme","React","setValue","tempAppointment","setTempAppointment","TabPanels","map","dir","Tabs","newValue","setSimple","setAppointment","setMinutes","addHours","rRule","deadline","addWeeks","setHours","exDuration","minSession","maxSession","divisible","indicatorColor","textColor","Tab","axis","onChangeIndex","flexDirection","justifyContent","marginBottom","datePickerRow","divisibilitySwitch","timeSectionHeader","width","numberTextFieldRow","numberTextField","formButtons","alignSelf","parseInt","validity","titleIsEmpty","InputLabelProps","shrink","checked","exDurationIsEmpty","minSessionIsEmpty","maxSessionIsEmpty","allDaySwitch","recurMenu","simpleEventForm","recurrenceType","setRecurrenceType","recurMenuAnchorEl","setRecurMenuAnchorEl","handleRecurMenuClose","dayOfWeek","toUpperCase","dayOfMonth","styles","loadingScreen","isSimple","setValidity","loading","setLoading","handleAppointmentFormClose","simpleAppointmentIsValid","smartAppointmentIsValid","popSnackbar","newValidity","isValid","invalidDate","invalidDeadline","CircularProgress","drawerPaper","drawerHeader","padding","mixins","toolbar","handleDayClicked","edge","Drawer","anchor","paper","Divider","List","ListItem","ListItemText","flexGrow","login","borderRadius","loginTitle","textAlign","hkuLogo","loginButton","loginButtonIcon","buttonGroup","appbar","overflow","todayButton","marginRight","logoutButton","fab","position","bottom","right","zIndex","navigateToday","setUser","snackbarIsOpen","setSnackbar","fetchUser","handleLogout","handleLogin","TimeFlex","AppBar","Toolbar","Link","underline","dateNavigator","Tooltip","placement","aria-label","Fab","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","LoginPage","Paper","src","HKULogo","alt","initialState","simpleEventFormReducer","calendarReducer","authenticated","dataReducer","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ccc55f3a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/HKU.1ffa019a.jpg\";","import { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { WeekView } from '@devexpress/dx-react-scheduler-material-ui';\n\nconst useStyles = makeStyles(theme => ({\n    todayCell: {\n        backgroundColor: fade(theme.palette.primary.main, 0.1),\n        '&:hover': {\n            backgroundColor: fade(theme.palette.primary.main, 0.14),\n        },\n        '&:focus': {\n            backgroundColor: fade(theme.palette.primary.main, 0.16),\n        },\n    },\n    today: {\n        backgroundColor: fade(theme.palette.primary.main, 0.16),\n    },\n}));\n\n\nconst DayScaleCell = (props) => {\n    const classes = useStyles();\n    const { startDate, today } = props;\n\n    if (today) {\n        return <WeekView.DayScaleCell {...props} className={classes.today} />;\n    } if (startDate.getDate() < new Date().getDate()) {\n        return <WeekView.DayScaleCell {...props} className={classes.past} />;\n    } return <WeekView.DayScaleCell {...props} />;\n};\n\nexport default DayScaleCell;\n","import { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { WeekView } from '@devexpress/dx-react-scheduler-material-ui';\n\nconst useStyles = makeStyles(theme => ({\n    pastCell: {\n        backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\n        '&:hover': {\n            backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\n        },\n        '&:focus': {\n            backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\n        },\n    },\n}));\n\nconst TimeTableCell = (props) => {\n    const classes = useStyles();\n    const { startDate } = props;\n    const date = new Date(startDate);\n\n    if (date.getDate() === new Date().getDate()) {\n        return <WeekView.TimeTableCell {...props} className={classes.todayCell} />;\n    } if (date < new Date()) {\n        return <WeekView.TimeTableCell {...props} className={classes.pastCell} />;\n    } return <WeekView.TimeTableCell {...props} />;\n};\n\nexport default TimeTableCell;","import format from 'date-fns/format';\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, DateTimePicker, DatePicker } from '@material-ui/pickers';\n\nexport default class FormDatePicker extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false,\n            currentDate: new Date(this.props.currentDate),\n            allDay: this.props.allDay,\n        };\n    }\n\n    setPicker = open => {\n        if (new Date(this.state.currentDate) > new Date())\n            this.setState({ open });\n    }\n\n    handleDateChange = currentDate => {\n        this.setState({ currentDate });\n        this.props.handleFormChange(currentDate);\n    }\n\n    renderPicker = () => {\n        if (this.state.allDay) {\n            return (\n                <DatePicker\n                    variant=\"dialog\"\n                    value={new Date(this.state.currentDate)}\n                    onChange={this.handleDateChange}\n                    open={this.state.open}\n                    onOpen={() => { this.setPicker(true) }}\n                    onClose={() => { this.setPicker(false) }}\n                    disablePast\n                    showTodayButton\n                />\n            );\n        } else {\n            return (\n                <DateTimePicker\n                    variant=\"dialog\"\n                    value={new Date(this.state.currentDate)}\n                    onChange={this.handleDateChange}\n                    open={this.state.open}\n                    onOpen={() => { this.setPicker(true) }}\n                    onClose={() => { this.setPicker(false) }}\n                    disablePast\n                    showTodayButton\n                />\n            );\n        }\n    }\n\n    render() {\n        if (this.state.open) {\n            return (\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                    {this.renderPicker()}\n                </MuiPickersUtilsProvider>\n            );\n        } else {\n            return (\n                <Button onClick={() => { this.setPicker(true) }} style={{ color: \"#424242\" }}>\n                    {this.state.allDay\n                        ? format(this.state.currentDate, 'E, dd MMM u')\n                        : format(this.state.currentDate, 'E, dd MMM u ． p')\n                    }\n                </Button>\n            );\n        }\n    }\n}\n","const PORT = process.env.PORT || 5000;\n\nexport const setCurrentDate = (date) => {\n    return {\n        type: 'SET_CURRENT_DATE',\n        payload: date,\n    };\n};\n\nexport const setCurrentView = (view) => {\n    return {\n        type: 'SET_CURRENT_VIEW',\n        payload: view,\n    };\n};\n\nexport const setSimpleEventForm = (isOpen) => {\n    return {\n        type: 'SET_SIMPLE_EVENT_FORM',\n        payload: isOpen,\n    };\n};\n\nexport const fetchAppointmentsRequest = () => {\n    return {\n        type: 'FETCH_APPOINTMENTS_REQUEST',\n    };\n};\n\nexport const fetchAppointmentsSuccess = appointments => {\n    return {\n        type: 'FETCH_APPOINTMENTS_SUCCESS',\n        payload: appointments\n    };\n};\n\nexport const fetchAppointmentsFailure = error => {\n    return {\n        type: 'FETCH_APPOINTMENTS_FAILURE',\n        payload: error\n    };\n};\n\nexport const fetchAppointments = () => {\n    return async (dispatch, getState) => {\n        dispatch(fetchAppointmentsRequest());\n        const googleId = getState().data.user.googleId;\n        await fetch('/appointments/' + googleId, { credentials: 'include' })\n            .then(res => res.json())\n            .then(appointments => dispatch(fetchAppointmentsSuccess(appointments)))\n            .catch(error => dispatch(fetchAppointmentsFailure(error.message)));\n    };\n};\n\nexport const postAppointmentRequest = () => {\n    return {\n        type: 'POST_APPOINTMENT_REQUEST',\n    };\n};\n\nexport const postAppointmentSuccess = () => {\n    return {\n        type: 'POST_APPOINTMENT_SUCCESS'\n    };\n};\n\nexport const postAppointmentFailure = error => {\n    return {\n        type: 'POST_APPOINTMENT_FAILURE',\n        payload: error\n    };\n};\n\nexport const postAppointment = appointment => {\n    return async (dispatch) => {\n        dispatch(postAppointmentRequest());\n        await fetch('/appointments', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(appointment),\n            credentials: 'include',\n        })\n            .then(dispatch(postAppointmentSuccess()))\n            .catch(error => dispatch(postAppointmentFailure(error.message)));\n    };\n};\n\nexport const deleteAppointmentRequest = () => {\n    return {\n        type: 'DELETE_APPOINTMENT'\n    };\n};\n\nexport const deleteAppointmentSuccess = (appointments) => {\n    return {\n        type: 'DELETE_APPOINTMENT_SUCCESS',\n        payload: appointments\n    };\n};\n\nexport const deleteAppointmentFailure = (error) => {\n    return {\n        type: 'DELETE_APPOINTMENT_FAILURE',\n        payload: error\n    };\n};\n\nexport const deleteAppointment = appointmentId => {\n    return async (dispatch, getState) => {\n        dispatch(deleteAppointmentRequest());\n        const googleId = getState().data.user.googleId;\n        await fetch('/appointments/' + googleId + '/' + appointmentId, {\n            method: 'DELETE',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            credentials: 'include',\n        })\n            .then(dispatch(deleteAppointmentSuccess()))\n            .catch(error => dispatch(deleteAppointmentFailure(error.message)));\n    };\n};\n\nexport const setUser = (user) => {\n    return {\n        type: 'SET_USER',\n        payload: user\n    };\n};","import React, { Component, Fragment } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport TextField from '@material-ui/core/TextField';\nimport Switch from '@material-ui/core/Switch';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport FormDatePicker from './FormDatePicker';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { connect } from 'react-redux'\nimport { fetchAppointments, setCurrentDate } from '../../actions'\n\nconst PORT = process.env.PORT || 5000;\n\nclass EditEventForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            allDay: false,\n            error: false,\n            id: this.props.editDataId,\n            editData: {}\n        };\n    }\n\n    componentDidMount() {\n        fetch('/appointments/' + this.props.user.AcceptgoogleId + '/' + this.state.id, { credentials: 'include' })\n            .then(res => res.json())\n            .then(data => this.setState({\n                editData: {\n                    ...data,\n                    startDate: new Date(data.startDate),\n                    endDate: new Date(data.endDate)\n                }\n            }))\n            .catch(error => console.log(error.message));\n    }\n\n    checkPast = () => {\n        if (new Date(this.state.editData.startDate) < new Date()) {\n            return true;\n        }\n        return false;\n    }\n\n    handleSubmit = async () => {\n        if (this.state.editData.title === null || this.state.editData.title === \"\") {\n            this.setState({ error: true });\n        } else if (this.state.editData.startDate > this.state.editData.endDate) {\n            alert(\"The start date cannot be later than the end date\");\n        } else {\n            this.setState({ error: false });\n            // this.props.editAppointment(this.state.editData);\n            await fetch('/appointments/' + this.props.user.googleId + '/' + this.state.editData.appointmentId, {\n                method: 'PUT',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(this.state.editData),\n                credentials: 'include'\n            })\n            setTimeout(this.props.fetchAppointments, 50);\n            this.props.onClose();\n        }\n    }\n\n    setAllDay = () => {\n        this.setState({\n            allDay: this.state.allDay ? false : true\n        });\n    }\n\n    handleTextFieldInput = (event) => {\n        if (!this.checkPast()) {\n            let nam = event.target.name;\n            let val = event.target.value;\n            let editData = {\n                ...this.state.editData,\n                [nam]: val\n            }\n            this.setState({ editData });\n        }\n    }\n\n    handleStartDateInput = (date) => {\n        let editData = {\n            ...this.state.editData,\n            startDate: new Date(date)\n        }\n        if (new Date(editData.startDate) > new Date(editData.endDate)) {\n            editData.endDate = editData.startDate;\n        }\n        this.setState({ editData });\n    }\n\n    handleEndDateInput = (date) => {\n        let editData = {\n            ...this.state.editData,\n            endDate: date\n        }\n        this.setState({ editData });\n    }\n\n    renderForm = () => {\n        return (\n            <form autoComplete=\"off\">\n                <Grid container direction=\"column\" spacing={2} justify=\"space-evenly\">\n                    <Grid item>\n                        <TextField\n                            required\n                            error={this.state.error}\n                            helperText={this.state.error ? \"Title required\" : \"\"}\n                            name=\"title\"\n                            label=\"Title\"\n                            disabled={this.checkPast()}\n                            defaultValue={this.state.editData.title}\n                            onChange={this.handleTextFieldInput}\n                            fullWidth\n                        />\n                    </Grid>\n                    <Grid item key={this.state.allDay}>\n                        {this.state.allDay\n                            ? <div label=\"allDay\">\n                                <Grid container direction=\"row\" alignItems=\"center\" justify=\"flex-start\" spacing={2}>\n                                    <Grid item style={{ minWidth: \"55px\" }}>\n                                        <Typography variant=\"body2\" style={{ color: \"#616161\" }}>From</Typography>\n                                    </Grid>\n                                    <Grid item>\n                                        <FormDatePicker currentDate={this.state.editData.startDate} handleFormChange={this.handleStartDateInput} allDay />\n                                    </Grid>\n                                </Grid>\n                                <Grid container direction=\"row\" alignItems=\"center\" justify=\"flex-start\" spacing={2}>\n                                    <Grid item style={{ minWidth: \"55px\" }}>\n                                        <Typography variant=\"body2\" style={{ color: \"#616161\" }}>Until</Typography>\n                                    </Grid>\n                                    <Grid item>\n                                        <FormDatePicker currentDate={this.state.editData.endDate} handleFormChange={this.handleEndDateInput} allDay />\n                                    </Grid>\n                                </Grid>\n                            </div>\n                            : <div label=\"NonAllDay\">\n                                <Grid container direction=\"row\" alignItems=\"center\" justify=\"flex-start\" spacing={2}>\n                                    <Grid item style={{ minWidth: \"55px\" }}>\n                                        <Typography variant=\"body2\" style={{ color: \"#616161\" }}>From</Typography>\n                                    </Grid>\n                                    <Grid item>\n                                        <FormDatePicker\n                                            currentDate={this.state.editData.startDate}\n                                            handleFormChange={this.handleStartDateInput}\n                                        />\n                                    </Grid>\n                                </Grid>\n                                <Grid container direction=\"row\" alignItems=\"center\" justify=\"flex-start\" spacing={2}>\n                                    <Grid item style={{ minWidth: \"55px\" }}>\n                                        <Typography variant=\"body2\" style={{ color: \"#616161\" }}>Until</Typography>\n                                    </Grid>\n                                    <Grid item>\n                                        <FormDatePicker\n                                            currentDate={this.state.editData.endDate}\n                                            handleFormChange={this.handleEndDateInput}\n                                        />\n                                    </Grid>\n                                </Grid>\n                            </div>\n                        }\n                    </Grid>\n                    {!this.checkPast()\n                        ? <Grid container direction=\"row\" justify=\"flex-start\" style={{ margin: \"10px 0\" }}>\n                            <Grid item style={{ marginLeft: \"10px\" }}>\n                                <FormControlLabel\n                                    value=\"start\"\n                                    control={<Switch color=\"primary\" size=\"small\" onChange={this.setAllDay} />}\n                                    label=\"All day\"\n                                />\n                            </Grid>\n                            <Grid item style={{ marginLeft: \"10px\" }}>\n                                <FormControlLabel\n                                    value=\"start\"\n                                    control={<Switch color=\"primary\" size=\"small\" />}\n                                    label=\"Repeat\"\n                                />\n                            </Grid>\n                        </Grid>\n                        : null\n                    }\n                    <Grid item>\n                    </Grid>\n                    <Grid item>\n                        <TextField\n                            name=\"description\"\n                            label=\"Description\"\n                            variant=\"outlined\"\n                            disabled={this.checkPast()}\n                            defaultValue={this.state.editData.description ? this.state.editData.description : \" \"}\n                            onChange={this.handleTextFieldInput}\n                            multiline rows=\"2\"\n                            fullWidth\n                        />\n                    </Grid>\n                </Grid>\n            </form>\n        );\n    }\n\n    render() {\n        return (\n            <Dialog\n                aria-labelledby=\"form-dialog-title\"\n                open={true}\n                onClose={this.props.onClose}\n                fullWidth maxWidth=\"xs\"\n            >\n                <DialogTitle id=\"form-dialog-title\">Edit Event</DialogTitle>\n                {\n                    this.state.editData.startDate\n                        ? <DialogContent style={{ minHeight: \"300px\" }}>{this.renderForm()}</DialogContent>\n                        : <LinearProgress />\n                }\n                <DialogActions>\n                    {!this.checkPast()\n                        ? <Fragment>\n                            <Button onClick={this.props.onClose} color=\"primary\">\n                                Cancel\n                        </Button>\n                            <Button variant=\"contained\" onClick={this.handleSubmit} color=\"primary\" disableElevation>\n                                Save\n                        </Button>\n                        </Fragment>\n                        : <Button variant=\"contained\" onClick={this.props.onClose} color=\"primary\">\n                            Done\n                        </Button>\n                    }\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\nconst mapStateToProps = state => ({\n    currentDate: state.calendar.currentDate,\n    user: state.data.user,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setCurrentDate: (currentDate) => dispatch(setCurrentDate(currentDate)),\n    fetchAppointments: () => dispatch(fetchAppointments()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditEventForm);\n","import React, { useState, useEffect } from 'react';\nimport { ViewState } from '@devexpress/dx-react-scheduler';\nimport {\n    Scheduler,\n    AllDayPanel,\n    DayView,\n    WeekView,\n    MonthView,\n    Appointments,\n    AppointmentTooltip,\n} from '@devexpress/dx-react-scheduler-material-ui';\nimport DayScaleCell from './DayScaleCell';\nimport TimeTableCell from './TimeTableCell';\nimport EditEventForm from '../Forms/EditEventForm';\nimport { connect } from 'react-redux';\nimport { fetchAppointments, deleteAppointment } from '../../actions';\n\nconst toolbarHeight = 66;\n\nconst Calendar = props => {\n    const [isEditing, setEditing] = useState(false);\n    const [editDataId, setEditDataId] = useState(\"\");\n    const [height, setHeight] = useState(window.innerHeight - toolbarHeight);\n    const currentView = props.currentView;\n    const currentDate = props.currentDate;\n    const appointments = props.appointments;\n    const deleteAppointment = appointmentId => props.deleteAppointment(appointmentId);\n    const fetchAppointments = () => props.fetchAppointments();\n\n    useEffect(() => {\n        const handleResize = () => setHeight(window.innerHeight - toolbarHeight);\n        setHeight(window.innerHeight - toolbarHeight);\n        window.addEventListener(\"resize\", handleResize);\n        props.fetchAppointments();\n\n        return () => window.removeEventListener(\"resize\", handleResize);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const handleTooltipOpen = appointmentId => {\n        setEditDataId(appointmentId);\n        setEditing(true);\n    };\n\n    const handleTooltipClose = () => {\n        setEditing(false);\n        setEditDataId(\"\");\n    };\n\n    const AppointmentTooltipLayout = props => {\n        const handleAppointmentDelete = (appointmentId) => {\n            deleteAppointment(appointmentId);\n            setTimeout(fetchAppointments, 50);\n            props.onHide();\n        };\n\n        return (\n            <AppointmentTooltip.Layout\n                {...props}\n                onDeleteButtonClick={() => handleAppointmentDelete(props.appointmentMeta.data.appointmentId)}\n                onOpenButtonClick={() => handleTooltipOpen(props.appointmentMeta.data.appointmentId)}\n            />\n        );\n    };\n\n    return (\n        <div>\n            <Scheduler data={appointments} firstDayOfWeek={1} height={height}>\n                <ViewState currentDate={currentDate} currentViewName={currentView} />\n                <DayView startDayHour={0} endDayHour={24} cellDuration={60} />\n                <WeekView\n                    timeTableCellComponent={TimeTableCell}\n                    dayScaleCellComponent={DayScaleCell}\n                    startDayHour={0}\n                    endDayHour={24}\n                    cellDuration={60}\n                />\n                <MonthView />\n                <AllDayPanel />\n                <Appointments />\n                <AppointmentTooltip\n                    showCloseButton\n                    showOpenButton\n                    showDeleteButton\n                    layoutComponent={AppointmentTooltipLayout}\n                />\n            </Scheduler >\n            {isEditing ? <EditEventForm open={isEditing} onClose={handleTooltipClose} editDataId={editDataId} /> : null}\n        </div >\n    );\n};\n\nconst mapStateToProps = state => ({\n    currentDate: state.calendar.currentDate,\n    currentView: state.calendar.currentView,\n    appointments: state.data.appointments\n});\n\nconst mapDispatchToProps = dispatch => ({\n    fetchAppointments: () => dispatch(fetchAppointments()),\n    deleteAppointment: (appointmentId) => dispatch(deleteAppointment(appointmentId)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Calendar);\n\n\n\n","import React, { useState } from 'react'\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux'\nimport { setCurrentView } from '../../actions'\n\nconst useStyles = makeStyles(theme => ({\n    menuItem: {\n        color: \"#616161\"\n    },\n    button: {\n        color: \"#616161\"\n    }\n}));\n\nconst Dropdown = props => {\n    const classes = useStyles();\n    const [anchorEl, setAnchorEl] = useState(null);\n    const currentView = props.currentView;\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget)\n    }\n\n    const handleClose = (event) => {\n        setAnchorEl(null);\n        if (event.currentTarget.title) {\n            props.setCurrentView(event.currentTarget.title);\n        }\n    }\n\n    return (\n        <div className={classes.root}>\n            <Button onClick={handleClick} endIcon={<ArrowDropDownIcon />} className={classes.button}>\n                {currentView}\n            </Button >\n            <Menu\n                anchorEl={anchorEl}\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n                keepMounted\n            >\n                <MenuItem title=\"Day\" onClick={handleClose} className={classes.menuItem}>Day</MenuItem>\n                <MenuItem title=\"Week\" onClick={handleClose} className={classes.menuItem}>Week</MenuItem>\n                <MenuItem title=\"Month\" onClick={handleClose} className={classes.menuItem}>Month</MenuItem>\n            </Menu>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    currentView: state.calendar.currentView\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setCurrentView: (view) => dispatch(setCurrentView(view))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dropdown);\n","import format from 'date-fns/format';\nimport DateFnsUtils from '@date-io/date-fns';\nimport React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Hidden from '@material-ui/core/Hidden';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { MuiPickersUtilsProvider, DatePicker, } from '@material-ui/pickers';\nimport { connect } from 'react-redux';\nimport { setCurrentView, setCurrentDate } from '../../actions';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n        color: \"#616161\"\n    }\n}));\n\nconst ButtonDatePicker = props => {\n    const classes = useStyles();\n    const currentDate = props.currentDate;\n    const currentView = props.currentView;\n    const [isOpen, setOpen] = useState(false);\n\n    const handleDatePicked = date => {\n        setCurrentDate(date);\n        props.setCurrentDate(date);\n    }\n\n    const renderButton = () => {\n        let dateString = format(props.currentDate, \"MMMM yyyy\");\n        if (currentView === \"Day\")\n            dateString = format(currentDate, \"d MMM yyyy\");\n\n        const renderArrowDropdownIcon = () => (\n            <Hidden smUp>\n                <ArrowDropDownIcon />\n            </Hidden>\n        );\n\n        return (\n            <Button endIcon={renderArrowDropdownIcon()} onClick={() => setOpen(true)} className={classes.button}>\n                {dateString}\n            </Button >\n        );\n    }\n\n    const renderDatePicker = () => (\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <DatePicker\n                variant=\"dialog\"\n                format=\"d MMMM yyy\"\n                value={currentDate}\n                onChange={handleDatePicked}\n                open={isOpen}\n                onOpen={() => setOpen(true)}\n                onClose={() => setOpen(false)}\n                showTodayButton\n            />\n        </MuiPickersUtilsProvider>\n    );\n\n    if (isOpen)\n        return renderDatePicker();\n    else\n        return renderButton();\n};\n\nconst mapStateToProps = state => ({\n    currentDate: state.calendar.currentDate,\n    currentView: state.calendar.currentView\n});\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setCurrentDate: (currentDate) => dispatch(setCurrentDate(currentDate)),\n        setCurrentView: (view) => dispatch(setCurrentView(view)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonDatePicker);\n","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport Hidden from '@material-ui/core/Hidden';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ButtonDatePicker from './ButtonDatePicker';\nimport { connect } from 'react-redux';\nimport { setCurrentDate } from '../../actions';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"center\",\n    }\n}));\n\nconst DateNavigator = props => {\n    const classes = useStyles();\n    const currentDate = props.currentDate;\n    const currentView = props.currentView;\n\n    const handleNavNext = () => {\n        let date = new Date(currentDate);\n        if (currentView === \"Day\") {\n            date.setDate(date.getDate() + 1);\n        }\n        if (currentView === \"Week\") {\n            date.setDate(date.getDate() + 7);\n        }\n        if (currentView === \"Month\") {\n            date.setMonth(date.getMonth() + 1);\n        }\n        props.setCurrentDate(date);\n    };\n\n    const handleNavPrev = () => {\n        let date = new Date(currentDate);\n        if (currentView === 'Day') {\n            date.setDate(date.getDate() - 1);\n        }\n        if (currentView === 'Week') {\n            date.setDate(date.getDate() - 7);\n        }\n        if (currentView === 'Month') {\n            date.setMonth(date.getMonth() - 1);\n        }\n        props.setCurrentDate(date);\n    };\n\n    return (\n        <div className={classes.root}>\n            <Hidden xsDown>\n                <IconButton onClick={handleNavPrev}>\n                    <KeyboardArrowLeftIcon />\n                </IconButton>\n            </Hidden>\n            <ButtonDatePicker />\n            <Hidden xsDown>\n                <IconButton onClick={handleNavNext}>\n                    <KeyboardArrowRightIcon />\n                </IconButton>\n            </Hidden>\n        </div >\n    );\n};\n\nconst mapStateToProps = state => ({\n    currentView: state.calendar.currentView,\n    currentDate: state.calendar.currentDate,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setCurrentDate: (date) => dispatch(setCurrentDate(date))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DateNavigator);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Box from '@material-ui/core/Box';\n\nconst TabPanel = (props) => {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`full-width-tabpanel-${index}`}\n            aria-labelledby={`full-width-tab-${index}`}\n            {...other}\n        >\n            {value === index && (\n                <Box p={3}>\n                    {children}\n                </Box>\n            )}\n        </div>\n    );\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n};\n\nexport default TabPanel;","import React, { useState } from 'react';\nimport setMinutes from 'date-fns/setMinutes';\nimport addHours from 'date-fns/addHours';\nimport addWeeks from 'date-fns/addWeeks';\nimport setHours from 'date-fns/setHours';\nimport SwipeableViews from 'react-swipeable-views';\nimport { useTheme } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport TabPanel from './TabPanel';\n\nconst TabMenu = (props) => {\n    const theme = useTheme();\n    const [value, setValue] = React.useState(0);\n    const [tempAppointment, setTempAppointment] = useState(null);\n\n    const handleChange = (event, newValue) => {\n        if (props.appointment)\n            setTempAppointment(props.appointment);\n\n        if (newValue === 0) {\n            props.setSimple(true);\n            props.setAppointment(tempAppointment ? tempAppointment : {\n                title: \"\",\n                startDate: setMinutes(addHours(new Date(), 1), 0),\n                endDate: setMinutes(addHours(new Date(), 2), 0),\n                allDay: false,\n                rRule: \"\",\n                description: \"\",\n            });\n        }\n\n        if (newValue === 1) {\n            props.setSimple(false);\n            props.setAppointment(tempAppointment ? tempAppointment : {\n                title: props.appointment.title,\n                deadline: addWeeks(setMinutes(setHours(new Date(), 23), 59), 1),\n                exDuration: null,\n                minSession: 1,\n                maxSession: null,\n                divisible: true,\n                description: \"\",\n            });\n        }\n\n        setValue(newValue);\n    };\n\n    const handleChangeIndex = (index) => {\n        setValue(index);\n    };\n\n    const TabPanelItems = [...props.children];\n    const TabPanels = TabPanelItems.map((item, index) => {\n        return (\n            <TabPanel key={index} value={index} index={index} dir={theme.direction}>\n                {item}\n            </TabPanel>\n        );\n    });\n\n\n    return (\n        <div >\n            <Tabs\n                value={value}\n                onChange={handleChange}\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                variant=\"fullWidth\"\n            >\n                <Tab label=\"Simple Event\" />\n                <Tab label=\"Smart Planning\" />\n                <Tab label=\"Class (coming soon)\" disabled />\n            </Tabs>\n            <SwipeableViews\n                axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n                index={value}\n                onChangeIndex={handleChangeIndex}\n            >\n                {TabPanels}\n            </SwipeableViews>\n        </div>\n    );\n}\n\nexport default TabMenu;","import React from 'react';\nimport setMinutes from 'date-fns/setMinutes';\nimport addWeeks from 'date-fns/addWeeks';\nimport setHours from 'date-fns/setHours';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport Typography from '@material-ui/core/Typography';\nimport FormDatePicker from '../FormDatePicker';\nimport { connect } from 'react-redux';\nimport { fetchAppointments, postAppointment } from '../../../actions';\n\nconst useStyles = makeStyles({\n    root: {\n        height: \"350px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\",\n        alignItems: \"flex-start\",\n    },\n    title: {\n        marginBottom: \"10px\"\n    },\n    datePickerRow: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n    },\n    divisibilitySwitch: {\n        marginLeft: \"-5px\"\n    },\n    timeSectionHeader: {\n        color: \"#757575\",\n        width: \"50px\"\n    },\n    numberTextFieldRow: {\n        width: \"100%\",\n        minHeight: \"70px\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n    },\n    numberTextField: {\n        maxWidth: \"150px\"\n    },\n    formButtons: {\n        alignSelf: \"flex-end\",\n    }\n});\n\n\nconst SmartPlanningForm = (props) => {\n    const classes = useStyles();\n    const appointment = props.appointment;\n    const setAppointment = props.setAppointment;\n\n    const handleTextFieldInput = (event) => {\n        let nam = event.target.name;\n        let val = event.target.value;\n\n        if (nam === \"exDuration\" || nam === \"minSession\" || nam === \"maxSession\") {\n            val = parseInt(val);\n            if (val <= 0)\n                return;\n        }\n\n        if (nam === \"minSession\")\n            if (val > appointment.exDuration || val > appointment.maxSession)\n                return;\n\n        if (nam === \"maxSession\")\n            if (val > appointment.exDuration || val < appointment.minSession)\n                return;\n\n        setAppointment({\n            ...appointment,\n            [nam]: val,\n        });\n    };\n\n    const handleDeadlineSelection = (date) => {\n        setAppointment({\n            ...appointment,\n            deadline: date\n        });\n    };\n\n    const handleAppointmentDivisibility = () => {\n        setAppointment({\n            ...appointment,\n            divisible: !appointment.divisible,\n            minSession: appointment.exDuration,\n            maxSession: appointment.exDuration,\n        });\n    }\n\n    return (\n        <>\n            <form className={classes.root} autoComplete=\"off\">\n                <Typography variant=\"body2\">There is a smart planning algorithm in TimeFlex, which will help you find a timeslot for your task.</Typography>\n                <TextField\n                    required\n                    fullWidth\n                    value={appointment.title}\n                    error={props.validity.titleIsEmpty}\n                    helperText={props.validity.titleIsEmpty ? \"Required\" : \"\"}\n                    name=\"title\"\n                    label=\"Title\"\n                    onChange={handleTextFieldInput}\n                    InputLabelProps={{ shrink: true }}\n                    className={classes.title}\n                />\n                <div className={classes.datePickerRow}>\n                    <Typography variant=\"button\" className={classes.timeSectionHeader}>Due</Typography>\n                    <FormDatePicker\n                        allDay={false}\n                        currentDate={appointment.deadline ? appointment.deadline : addWeeks(setMinutes(setHours(new Date(), 23), 59), 1)}\n                        handleFormChange={handleDeadlineSelection}\n                    />\n                </div>\n                <FormControlLabel\n                    // key={appointment.divisible}\n                    label={<Typography variant=\"body2\">Divisible</Typography>}\n                    className={classes.divisibilitySwitch}\n                    checked={appointment.divisible ? true : false}\n                    control={<Switch color=\"primary\" size=\"small\" onChange={handleAppointmentDivisibility} />}\n                />\n                <div className={classes.numberTextFieldRow}>\n                    <TextField\n                        label=\"Duration (hours)\"\n                        name=\"exDuration\"\n                        type=\"number\"\n                        value={appointment.exDuration ? appointment.exDuration : \"\"}\n                        error={props.validity.exDurationIsEmpty}\n                        helperText={props.validity.exDurationIsEmpty ? \"Required\" : \"\"}\n                        onChange={handleTextFieldInput}\n                        InputLabelProps={{ shrink: true }}\n                        className={classes.numberTextField}\n                    />\n                    {appointment.divisible ?\n                        <>\n                            <TextField\n                                label=\"Session min.\"\n                                name=\"minSession\"\n                                type=\"number\"\n                                value={appointment.minSession}\n                                error={props.validity.minSessionIsEmpty}\n                                helperText={props.validity.minSessionIsEmpty ? \"Required\" : \"\"}\n                                onChange={handleTextFieldInput}\n                                InputLabelProps={{ shrink: true }}\n                                className={classes.numberTextField}\n                            />\n                            <TextField\n                                label=\"Session max.\"\n                                name=\"maxSession\"\n                                type=\"number\"\n                                value={appointment.maxSession ? appointment.maxSession : null}\n                                error={props.validity.maxSessionIsEmpty}\n                                helperText={props.validity.maxSessionIsEmpty ? \"Required\" : \"\"}\n                                onChange={handleTextFieldInput}\n                                InputLabelProps={{ shrink: true }}\n                                className={classes.numberTextField}\n                            />\n                        </> : null}\n                </div>\n                <TextField\n                    name=\"description\"\n                    label=\"Description\"\n                    variant=\"outlined\"\n                    onChange={handleTextFieldInput}\n                    InputLabelProps={{ shrink: true }}\n                    multiline rows=\"2\"\n                    fullWidth\n                />\n            </form>\n        </>\n    );\n};\n\nconst mapStateToProps = state => ({\n    googleId: state.data.user.googleId,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    fetchAppointments: () => dispatch(fetchAppointments()),\n    postAppointment: (appointment) => dispatch(postAppointment(appointment))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SmartPlanningForm);","import format from 'date-fns/format';\nimport setMinutes from 'date-fns/setMinutes';\nimport addHours from 'date-fns/addHours';\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Switch from '@material-ui/core/Switch';\nimport Typography from '@material-ui/core/Typography';\nimport FormDatePicker from '../FormDatePicker';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { connect } from 'react-redux'\nimport { setCurrentDate, setSimpleEventForm, postAppointment, fetchAppointments } from '../../../actions';\n\nconst useStyles = makeStyles({\n    root: {\n        height: \"350px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\",\n        alignItems: \"flex-start\",\n    },\n    title: {\n        marginBottom: \"10px\"\n    },\n    datePickerRow: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n    },\n    allDaySwitch: {\n        marginLeft: \"-5px\"\n    },\n    timeSectionHeader: {\n        color: \"#757575\",\n        width: \"50px\"\n    },\n    recurMenu: {\n        margin: \"10px 0\"\n    },\n    formButtons: {\n        alignSelf: \"flex-end\",\n    }\n});\n\nconst SimpleEventForm = (props) => {\n    const classes = useStyles();\n    const [recurrenceType, setRecurrenceType] = useState(\"\");\n    const [recurMenuAnchorEl, setRecurMenuAnchorEl] = useState(null);\n    const appointment = props.appointment;\n    const setAppointment = props.setAppointment;\n\n    useEffect(() => {\n        setAppointment({\n            title: \"\",\n            startDate: setMinutes(addHours(new Date(), 1), 0),\n            endDate: setMinutes(addHours(new Date(), 2), 0),\n            allDay: false,\n            rRule: \"\",\n            description: \"\",\n        });\n    }, [])\n\n    const handleTextFieldInput = (event) => {\n        let nam = event.target.name;\n        let val = event.target.value;\n        setAppointment({\n            ...appointment,\n            [nam]: val,\n        });\n    };\n\n    const handleStartDateSelection = (date) => {\n        setAppointment({\n            ...appointment,\n            startDate: date\n        });\n    };\n\n    const handleEndDateSelection = (date) => {\n        setAppointment({\n            ...appointment,\n            endDate: date\n        });\n    };\n\n    const handleAllDayButtonChange = () => {\n        setAppointment({ ...appointment, allDay: !appointment.allDay });\n    };\n\n    const handleRecurMenuClose = (event) => {\n        const { startDate } = appointment;\n\n        let rRule = null;\n        if (event.currentTarget.title === \"Daily\")\n            rRule = \"FREQ=DAILY;INTERVAL=1\";\n        if (event.currentTarget.title === \"Weekly\") {\n            let dayOfWeek = format(startDate, \"EEEEEE\").toUpperCase();\n            rRule = `FREQ=WEEKLY;BYDAY=${dayOfWeek};INTERVAL=1`;\n        }\n        if (event.currentTarget.title === \"Monthly\") {\n            let dayOfMonth = format(startDate, \"d\");\n            rRule = `FREQ=MONTHLY;BYMONTHDAY=${dayOfMonth};INTERVAL=1`;\n        }\n\n        setRecurrenceType(event.currentTarget.title);\n        setRecurMenuAnchorEl(null);\n        setAppointment({\n            ...appointment,\n            rRule: rRule,\n        });\n    };\n\n    return (\n        <form className={classes.root} autoComplete=\"off\">\n            <TextField\n                required\n                fullWidth\n                name=\"title\"\n                label=\"Title\"\n                error={props.validity.titleIsEmpty}\n                className={classes.title}\n                value={appointment.title}\n                onChange={handleTextFieldInput}\n                InputLabelProps={{ shrink: true }}\n                helperText={props.validity.titleIsEmpty ? \"Title required\" : \"\"}\n            />\n            <div className={classes.datePickerRow}>\n                <Typography variant=\"button\" className={classes.timeSectionHeader}>From</Typography>\n                <FormDatePicker\n                    allDay={appointment.allDay}\n                    currentDate={appointment.startDate ? appointment.startDate : setMinutes(addHours(new Date(), 1), 0)}\n                    handleFormChange={handleStartDateSelection}\n                />\n            </div>\n            <div className={classes.datePickerRow}>\n                <Typography variant=\"button\" className={classes.timeSectionHeader}>Until</Typography>\n                <FormDatePicker\n                    allDay={appointment.allDay}\n                    currentDate={appointment.endDate ? appointment.endDate : setMinutes(addHours(new Date(), 2), 0)}\n                    handleFormChange={handleEndDateSelection}\n                />\n            </div>\n            <FormControlLabel\n                control={<Switch color=\"primary\" size=\"small\" onChange={handleAllDayButtonChange} />}\n                label={<Typography variant=\"body2\">All day</Typography>}\n                className={classes.allDaySwitch}\n            />\n            <Button\n                size=\"small\"\n                variant=\"outlined\"\n                onClick={(event) => setRecurMenuAnchorEl(event.currentTarget)}\n                endIcon={<ArrowDropDownIcon />}\n                className={classes.recurMenu}\n            >\n                <Typography variant=\"button\">\n                    {appointment.rRule ? recurrenceType : \"Doesn't repeat\"}\n                </Typography>\n            </Button >\n            <Menu anchorEl={recurMenuAnchorEl} open={Boolean(recurMenuAnchorEl)} onClose={() => setRecurMenuAnchorEl(null)} keepMounted>\n                <MenuItem title=\"None\" onClick={handleRecurMenuClose}>\n                    <Typography variant=\"button\">Doesn't repeat</Typography>\n                </MenuItem>\n                <MenuItem title=\"Daily\" onClick={handleRecurMenuClose}>\n                    <Typography variant=\"button\">Daily</Typography>\n                </MenuItem>\n                <MenuItem title=\"Weekly\" onClick={handleRecurMenuClose}>\n                    <Typography variant=\"button\">Weekly</Typography>\n                </MenuItem>\n                <MenuItem title=\"Monthly\" onClick={handleRecurMenuClose}>\n                    <Typography variant=\"button\">Monthly</Typography>\n                </MenuItem>\n            </Menu>\n            <TextField\n                name=\"description\"\n                label=\"Description\"\n                variant=\"outlined\"\n                InputLabelProps={{ shrink: true }}\n                onChange={handleTextFieldInput}\n                multiline rows=\"2\"\n                fullWidth\n            />\n        </form >\n    );\n};\n\nconst mapStateToProps = state => {\n    return {\n        currentDate: state.calendar.currentDate,\n        isOpen: state.simpleEventForm.isOpen,\n        googleId: state.data.user.googleId,\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setCurrentDate: (currentDate) => dispatch(setCurrentDate(currentDate)),\n        setSimpleEventForm: (value) => dispatch(setSimpleEventForm(value)),\n        fetchAppointments: () => dispatch(fetchAppointments()),\n        postAppointment: (appointment) => dispatch(postAppointment(appointment))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SimpleEventForm);","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TabMenu from './TabMenu';\nimport SmartPlanningForm from './SmartPlanningForm';\nimport SimpleEventForm from './SimpleEventForm';\nimport { connect } from 'react-redux'\nimport { setSimpleEventForm, fetchAppointments } from '../../../actions';\n\nconst PORT = process.env.PORT || 5000;\n\nconst styles = {\n    loadingScreen: {\n        minWidth: \"300px\",\n        minHeight: \"200px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n};\n\nconst AppointmentForm = (props) => {\n    const [isSimple, setSimple] = useState(true);\n    const [appointment, setAppointment] = useState({});\n    const [validity, setValidity] = useState({});\n    const [loading, setLoading] = useState(false);\n\n    const handleAppointmentFormClose = () => {\n        props.setSimpleEventForm(false);\n        setAppointment({});\n        setValidity({});\n    }\n\n    const handleSubmit = async () => {\n        // setLoading(true);\n        if (isSimple && !simpleAppointmentIsValid())\n            return;\n        if (!isSimple && !smartAppointmentIsValid())\n            return;\n        await fetch('/appointments', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                type: isSimple ? \"simple\" : \"smart\",\n                appointment: {\n                    googleId: props.googleId,\n                    ...appointment\n                }\n            }),\n            credentials: 'include'\n        })\n            .then(res => res.json())\n            .then((res) => {\n                if (res.message === \"NO_SOLUTION_AVAILABLE\")\n                    props.popSnackbar();\n                props.fetchAppointments();\n            })\n            .then(() => setLoading(false))\n            .then(() => handleAppointmentFormClose())\n            .catch(error => console.log(error));\n        setLoading(false);\n        handleAppointmentFormClose();\n    }\n\n    const simpleAppointmentIsValid = () => {\n        const { title, startDate, endDate } = appointment;\n        let newValidity = {};\n        let isValid = true;\n\n        if (!title) {\n            newValidity.titleIsEmpty = true;\n            isValid = false;\n        }\n\n        if (startDate < new Date()) {\n            newValidity.invalidDate = true;\n            isValid = false;\n            alert(\"The start date cannot be in the past\");\n        }\n\n        if (endDate < new Date()) {\n            newValidity.invalidDate = true;\n            isValid = false;\n            alert(\"The end date cannot be in the past\");\n        }\n\n        if (startDate > endDate) {\n            newValidity.invalidDate = true;\n            isValid = false;\n            alert(\"The start date cannot be later than the end date\");\n        }\n\n        setValidity(newValidity);\n        return isValid;\n    };\n\n    const smartAppointmentIsValid = () => {\n        const { title, deadline, exDuration, divisible, minSession, maxSession } = appointment;\n        let newValidity = {};\n        let isValid = true;\n\n        if (!title) {\n            newValidity.titleIsEmpty = true;\n            isValid = false;\n        }\n\n        if (deadline < new Date()) {\n            newValidity.invalidDeadline = true;\n            isValid = false;\n            alert(\"The deadline must be in the future\");\n        }\n\n        if (!exDuration) {\n            newValidity.exDurationIsEmpty = true;\n            isValid = false;\n        }\n\n        if (divisible && !maxSession) {\n            newValidity.maxSessionIsEmpty = true;\n            isValid = false;\n        }\n\n        if (divisible && !minSession) {\n            newValidity.minSessionIsEmpty = true;\n            isValid = false;\n        }\n\n        setValidity(newValidity);\n        return isValid;\n    }\n\n    return (\n        <div>\n            <Dialog open={props.open} onClose={handleAppointmentFormClose}>\n                <DialogContent>\n                    {!loading ?\n                        <TabMenu appointment={appointment} setAppointment={setAppointment} setSimple={setSimple}>\n                            <SimpleEventForm\n                                key={appointment}\n                                appointment={appointment}\n                                setAppointment={setAppointment}\n                                validity={validity}\n                                setValidity={setValidity}\n                            />\n                            <SmartPlanningForm\n                                key={appointment}\n                                appointment={appointment}\n                                setAppointment={setAppointment}\n                                validity={validity}\n                                setValidity={setValidity}\n                            />\n                            <p>class</p>\n                        </TabMenu> :\n                        <div style={styles.loadingScreen}>\n                            <CircularProgress />\n                        </div>}\n                </DialogContent>\n                <DialogActions>\n                    {!loading ? <>\n                        <Button onClick={handleAppointmentFormClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button variant=\"contained\" onClick={handleSubmit} color=\"primary\" disableElevation>\n                            Create Event\n                        </Button>\n                    </> : null}\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nconst mapStateToProps = state => ({\n    open: state.simpleEventForm.isOpen,\n    googleId: state.data.user.googleId,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setSimpleEventForm: (val) => dispatch(setSimpleEventForm(val)),\n    fetchAppointments: () => dispatch(fetchAppointments()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppointmentForm);","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Typography from '@material-ui/core/Typography';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { connect } from 'react-redux'\nimport { setCurrentView } from '../../actions';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n    },\n    drawerPaper: {\n        width: drawerWidth,\n    },\n    drawerHeader: {\n        display: 'flex',\n        alignItems: 'center',\n        padding: theme.spacing(0, 1),\n        // necessary for content to be below app bar\n        ...theme.mixins.toolbar,\n        justifyContent: 'flex-end',\n    },\n}));\n\nconst SideBar = props => {\n    const classes = useStyles();\n    const [isOpen, setOpen] = useState(false);\n\n    const handleDayClicked = (view) => {\n        props.setCurrentView(view);\n        setOpen(false);\n    }\n\n    return (\n        <div>\n            <IconButton color=\"#616161\" onClick={() => setOpen(true)} edge=\"start\">\n                <MenuIcon />\n            </IconButton>\n            <Drawer\n                variant=\"persistent\"\n                anchor=\"left\"\n                open={isOpen}\n                classes={{ paper: classes.drawerPaper }}\n            >\n                <div className={classes.drawerHeader}>\n                    <Typography variant=\"h6\" style={{ color: \"#616161\" }}>\n                        TimeFlex\n                        </Typography>\n                    <IconButton onClick={() => setOpen(false)} style={{ color: '#616161' }}>\n                        <ChevronLeftIcon />\n                    </IconButton>\n                </div>\n                <Divider />\n                <List>\n                    <ListItem button key=\"Day View\" style={{ color: '#616161' }} onClick={() => handleDayClicked(\"Day\")} value=\"Day\">\n                        <ListItemText primary=\"Day View\" />\n                    </ListItem>\n\n                    <ListItem button key=\"Week View\" style={{ color: '#616161' }} onClick={() => handleDayClicked(\"Week\")} value=\"Week\">\n                        <ListItemText primary=\"Week View\" />\n                    </ListItem>\n\n                    <ListItem button key=\"Month View\" style={{ color: '#616161' }} onClick={() => handleDayClicked(\"Month\")} value=\"Month\">\n                        <ListItemText primary=\"Month View\" />\n                    </ListItem>\n                </List>\n            </Drawer>\n        </div>\n    );\n}\n\nconst mapDispatchToProps = dispatch => ({\n    setCurrentView: (view) => dispatch(setCurrentView(view))\n});\n\nexport default connect(null, mapDispatchToProps)(SideBar);","import 'fontsource-roboto';\nimport googleIcon from './assets/google.png';\nimport HKULogo from './assets/HKU.jpg';\nimport React, { useEffect, useState } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport Fab from '@material-ui/core/Fab';\nimport Hidden from '@material-ui/core/Hidden';\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport AddIcon from '@material-ui/icons/Add';\nimport Calendar from './components/Calendar/Calendar';\nimport Dropdown from './components/AppBar/Dropdown';\nimport DateNavigator from './components/AppBar/DateNavigator';\nimport AppointmentForm from './components/Forms/AppointmentForm/AppointmentForm';\nimport SideBar from './components/AppBar/SideBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fetchAppointments, setCurrentDate, setSimpleEventForm, setUser } from './actions';\nimport { connect } from 'react-redux';\nimport styles from './style.css';\n\nconst PORT = process.env.PORT || 5000;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexGrow: 1,\n        height: \"98vh\"\n    },\n    login: {\n        margin: \"auto\",\n        width: \"350px\",\n        height: \"400px\",\n        borderRadius: \"12px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-evenly\",\n        alignItems: \"center\",\n    },\n    loginTitle: {\n        color: \"#616161\",\n        textAlign: \"center\"\n    },\n    hkuLogo: {\n        width: \"150px\"\n    },\n    loginButton: {\n        width: \"210px\",\n        borderRadius: \"18px\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n    },\n    loginButtonIcon: {\n        height: \"18px\",\n    },\n    buttonGroup: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\"\n    },\n    appbar: {\n        overflow: \"hidden\"\n    },\n    title: {\n        flexGrow: 1,\n        color: \"#616161\",\n        display: \"flex\",\n        alignItems: \"baseline\"\n    },\n    todayButton: {\n        color: \"#616161\",\n        marginRight: \"12px\"\n    },\n    logoutButton: {\n        color: \"#616161\",\n    },\n    fab: {\n        position: \"fixed\",\n        bottom: 25,\n        right: 25,\n        zIndex: 1,\n    },\n}));\n\nconst App = props => {\n    const classes = useStyles();\n    const [loading, setLoading] = useState(true);\n    const [snackbarIsOpen, setSnackbar] = useState(false);\n\n    useEffect(() => {\n        const fetchUser = async () => {\n            await fetch(\"/auth/login/success\", { credentials: 'include' })\n                .then(res => res.json())\n                .then(user => { if (user.googleId) props.setUser(user) })\n                .then(() => setLoading(false));\n        };\n        fetchUser();\n    }, []);\n\n    const handleLogout = () => {\n        window.open(\"/auth/logout\", \"_self\");\n    };\n\n    const handleLogin = () => {\n        window.open(\"/auth/google\", \"_self\");\n    };\n\n    const TimeFlex = () => {\n        return (\n            <div className={styles}>\n                <AppBar color=\"inherit\" className={classes.appbar}>\n                    <Toolbar variant=\"dense\" >\n                        <Hidden smUp>\n                            <SideBar />\n                        </Hidden>\n                        <Hidden xsDown>\n                            <Link className={classes.title} underline=\"none\" onClick={props.fetchAppointments}>\n                                <Typography variant=\"h6\">TimeFlex</Typography>\n                            </Link>\n                        </Hidden>\n                        <DateNavigator className={classes.dateNavigator} />\n                        <Hidden xsDown>\n                            <Button onClick={() => props.navigateToday()} className={classes.todayButton}>Today</Button>\n                            <Dropdown />\n                        </Hidden>\n                        <Button onClick={handleLogout} className={classes.logoutButton}>Logout</Button>\n                    </Toolbar>\n                </AppBar>\n                <div style={{ height: \"50px\" }} />\n                <Calendar />\n                <AppointmentForm popSnackbar={() => setSnackbar(true)} />\n                <Tooltip title=\"Create Event\" placement=\"left\" aria-label=\"add\">\n                    <Fab className={classes.fab} color=\"primary\" onClick={props.setSimpleEventForm}>\n                        <AddIcon />\n                    </Fab>\n                </Tooltip>\n                <Snackbar\n                    anchorOrigin={{ vertical: 'bottom', horizontal: 'left', }}\n                    open={snackbarIsOpen}\n                    autoHideDuration={1000}\n                    onClose={() => setSnackbar(false)}\n                    message=\"No suggestion available\"\n                />\n            </div >\n        );\n    }\n\n    const LoginPage = () => {\n        return (\n            <Paper className={classes.login} variant=\"outlined\">\n                <div>\n                    <Typography variant=\"h4\" className={classes.loginTitle}>TimeFlex</Typography>\n                    <Typography variant=\"subtitle2\" className={classes.loginTitle}>Calendar designed for HKU academia</Typography>\n                </div>\n                <img src={HKULogo} alt=\"\" className={classes.hkuLogo} />\n                <div className={classes.buttonGroup}>\n                    <Button onClick={handleLogin} variant=\"outlined\" className={classes.loginButton} >\n                        <img src={googleIcon} alt=\"\" className={classes.loginButtonIcon} />\n                        Sign in with Google\n                    </Button>\n                    <Typography variant=\"caption\">*Only available to HKU Connect accounts</Typography>\n                </div>\n            </Paper>\n        );\n    }\n\n    return (\n        <div className={classes.root}>\n            {!loading ? (props.user.googleId ? <TimeFlex /> : <LoginPage />) : null}\n        </div>\n    );\n};\n\nconst mapStateToProps = state => ({\n    user: state.data.user,\n})\n\nconst mapDispatchToProps = dispatch => ({\n    navigateToday: () => dispatch(setCurrentDate(new Date())),\n    setSimpleEventForm: () => dispatch(setSimpleEventForm(true)),\n    fetchAppointments: () => dispatch(fetchAppointments()),\n    setUser: (user) => dispatch(setUser(user)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","export default \"data:image/png;base64,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\"","const initialState = {\n    isOpen: false\n};\n\nconst simpleEventFormReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'SET_SIMPLE_EVENT_FORM':\n            return {\n                ...state,\n                isOpen: action.payload,\n            }\n        default:\n            return state;\n    };\n};\n\nexport default simpleEventFormReducer;","const initialState = {\n    currentDate: new Date(),\n    currentView: \"Week\"\n}\n\nconst calendarReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'SET_CURRENT_DATE':\n            return {\n                ...state,\n                currentDate: action.payload\n            };\n        case 'SET_CURRENT_VIEW':\n            return {\n                ...state,\n                currentView: action.payload\n            };\n        default:\n            return state;\n    };\n};\n\nexport default calendarReducer;","const initialState = {\n    user: {},\n    authenticated: false,\n    appointments: [],\n    loading: false,\n    error: \"\"\n}\n\nconst dataReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'FETCH_APPOINTMENTS_REQUEST':\n            return {\n                ...state,\n                loading: true\n            };\n        case 'FETCH_APPOINTMENTS_SUCCESS':\n            return {\n                ...state,\n                loading: false,\n                appointments: action.payload,\n                error: \"\"\n            };\n        case 'FETCH_APPOINTMENTS_FAILURE':\n            return {\n                ...state,\n                loading: false,\n                error: action.payload\n            };\n        case 'POST_APPOINTMENT_REQUEST':\n            return {\n                ...state,\n                loading: true\n            };\n        case 'POST_APPOINTMENT_SUCCESS':\n            return {\n                ...state,\n                loading: false,\n                error: \"\"\n            };\n        case 'POST_APPOINTMENT_FAILURE':\n            return {\n                ...state,\n                loading: false,\n                error: action.payload\n            };\n        case 'DELETE_APPOINTMENT_REQUEST':\n            return {\n                ...state,\n                loading: true\n            };\n        case 'DELETE_APPOINTMENT_SUCCESS':\n            return {\n                ...state,\n                loading: false,\n                error: \"\",\n            };\n        case 'DELETE_APPOINTMENT_FAILURE':\n            return {\n                ...state,\n                loading: false,\n                error: action.payload\n            };\n        case 'SET_USER':\n            return {\n                ...state,\n                user: { ...action.payload }\n            };\n        default:\n            return state;\n    };\n};\n\nexport default dataReducer;","import simpleEventFormReducer from './simpleEventFormReducer';\nimport calendarReducer from './calendarReducer';\nimport dataReducer from './dataReducer';\nimport { combineReducers } from 'redux';\n\nconst rootReducer = combineReducers({\n    calendar: calendarReducer,\n    simpleEventForm: simpleEventFormReducer,\n    data: dataReducer\n})\n\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport thunk from 'redux-thunk'\nimport { createStore, applyMiddleware } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport rootReducer from './reducers/rootReducer';\nimport { Provider } from 'react-redux'\n\n//Create the store\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}